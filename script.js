function locomotive() {
  gsap.registerPlugin(ScrollTrigger);

  const locoScroll = new LocomotiveScroll({
    el: document.querySelector(".main"),
    smooth: true ,
  });
  locoScroll.on("scroll", ScrollTrigger.update);

  ScrollTrigger.scrollerProxy(".main", {
    scrollTop(value) {
      return arguments.length
        ? locoScroll.scrollTo(value, 0, 0)
        : locoScroll.scroll.instance.scroll.y;
    },

    getBoundingClientRect() {
      return {
        top: 0,
        left: 0,
        width: window.innerWidth,
        height: window.innerHeight,
      };
    },

    pinType: document.querySelector(".main").style.transform
      ? "transform"
      : "fixed",
  });
  ScrollTrigger.addEventListener("refresh", () => locoScroll.update());
  ScrollTrigger.refresh();
}
locomotive();


const canvas = document.querySelector("canvas");
const context = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;


window.addEventListener("resize", function () {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  render();
});

function files(index) {
  var data = `
  frame_0.jpg
  frame_1.jpg
  frame_2.jpg
  frame_3.jpg
  frame_4.jpg
  frame_5.jpg
  frame_6.jpg
  frame_7.jpg
  frame_8.jpg
  frame_9.jpg
  frame_10.jpg
  frame_11.jpg
  frame_12.jpg
  frame_13.jpg
  frame_14.jpg
  frame_15.jpg
  frame_16.jpg
  frame_17.jpg
  frame_18.jpg
  frame_19.jpg
  frame_20.jpg
  frame_21.jpg
  frame_22.jpg
  frame_23.jpg
  frame_24.jpg
  frame_25.jpg
  frame_26.jpg
  frame_27.jpg
  frame_28.jpg
  frame_29.jpg
  frame_30.jpg
  frame_31.jpg
  frame_32.jpg
  frame_33.jpg
  frame_34.jpg
  frame_35.jpg
  frame_36.jpg
  frame_37.jpg
  frame_38.jpg
  frame_39.jpg
  frame_40.jpg
  frame_41.jpg
  frame_42.jpg
  frame_43.jpg
  frame_44.jpg
  frame_45.jpg
  frame_46.jpg
  frame_47.jpg
  frame_48.jpg
  frame_49.jpg
  frame_50.jpg
  frame_51.jpg
  frame_52.jpg
  frame_53.jpg
  frame_54.jpg
  frame_55.jpg
  frame_56.jpg
  frame_57.jpg
  frame_58.jpg
  frame_59.jpg
  frame_60.jpg
  frame_61.jpg
  frame_62.jpg
  frame_63.jpg
  frame_64.jpg
  frame_65.jpg
  frame_66.jpg
  frame_67.jpg
  frame_68.jpg
  frame_69.jpg
  frame_70.jpg
  frame_71.jpg
  frame_72.jpg
  frame_73.jpg
  frame_74.jpg
  frame_75.jpg
  frame_76.jpg
  frame_77.jpg
  frame_78.jpg
  frame_79.jpg
  frame_80.jpg
  frame_81.jpg
  frame_82.jpg
  frame_83.jpg
  frame_84.jpg
  frame_85.jpg
  frame_86.jpg
  frame_87.jpg
  frame_88.jpg
  frame_89.jpg
  frame_90.jpg
  frame_91.jpg
  frame_92.jpg
  frame_93.jpg
  frame_94.jpg
  frame_95.jpg
  frame_96.jpg
  frame_97.jpg
  frame_98.jpg
  frame_99.jpg
  frame_100.jpg
  frame_101.jpg
  frame_102.jpg
  frame_103.jpg
  frame_104.jpg
  frame_105.jpg
  frame_106.jpg
  frame_107.jpg
  frame_108.jpg
  frame_109.jpg
  frame_110.jpg
  frame_111.jpg
  frame_112.jpg
  frame_113.jpg
  frame_114.jpg
  frame_115.jpg
  frame_116.jpg
  frame_117.jpg
  frame_118.jpg
  frame_119.jpg
  frame_120.jpg
  frame_121.jpg
  frame_122.jpg
  frame_123.jpg
  frame_124.jpg
  frame_125.jpg
  frame_126.jpg
  frame_127.jpg
  frame_128.jpg
  frame_129.jpg
  frame_130.jpg
  frame_131.jpg
  frame_132.jpg
  frame_133.jpg
  frame_134.jpg
  frame_135.jpg
  frame_136.jpg
  frame_137.jpg
  frame_138.jpg
  frame_139.jpg
  frame_140.jpg
  frame_141.jpg
  frame_142.jpg
  frame_143.jpg
  frame_144.jpg
  frame_145.jpg
  frame_146.jpg
  frame_147.jpg
  frame_148.jpg
  frame_149.jpg
  frame_150.jpg
  frame_151.jpg
  frame_152.jpg
  frame_153.jpg
  frame_154.jpg
  frame_155.jpg
  frame_156.jpg
  frame_157.jpg
  frame_158.jpg
  frame_159.jpg
  frame_160.jpg
  frame_161.jpg
  frame_162.jpg
  frame_163.jpg
  frame_164.jpg
  frame_165.jpg
  frame_166.jpg
  frame_167.jpg
  frame_168.jpg
  frame_169.jpg
  frame_170.jpg
  frame_171.jpg
  frame_172.jpg
  frame_173.jpg
  frame_174.jpg
  frame_175.jpg
  frame_176.jpg
  frame_177.jpg
  frame_178.jpg
  frame_179.jpg
  frame_180.jpg
  frame_181.jpg
  frame_182.jpg
  frame_183.jpg
  frame_184.jpg
  frame_185.jpg
  frame_186.jpg
  frame_187.jpg
  frame_188.jpg
  frame_189.jpg
  frame_190.jpg
  frame_191.jpg
  frame_192.jpg
  frame_193.jpg
  frame_194.jpg
  frame_195.jpg
  frame_196.jpg
  frame_197.jpg
  frame_198.jpg
  frame_199.jpg
  frame_200.jpg
  frame_201.jpg
  frame_202.jpg
  frame_203.jpg
  frame_204.jpg
  frame_205.jpg
  frame_206.jpg
  frame_207.jpg
  frame_208.jpg
  frame_209.jpg
  frame_210.jpg
  frame_211.jpg
  frame_212.jpg
  frame_213.jpg
  frame_214.jpg
  frame_215.jpg
  frame_216.jpg
  frame_217.jpg
  frame_218.jpg
  frame_219.jpg
  frame_220.jpg
  frame_221.jpg
  frame_222.jpg
  frame_223.jpg
  frame_224.jpg
  frame_225.jpg
  frame_226.jpg
  frame_227.jpg
  frame_228.jpg
  frame_229.jpg
  frame_230.jpg
  frame_231.jpg
  frame_232.jpg
  frame_233.jpg
  frame_234.jpg
  frame_235.jpg
  frame_236.jpg
  frame_237.jpg
  frame_238.jpg
  frame_239.jpg
  frame_240.jpg
  frame_241.jpg
  frame_242.jpg
  frame_243.jpg
  frame_244.jpg
  frame_245.jpg
  frame_246.jpg
  frame_247.jpg
  frame_248.jpg
  frame_249.jpg
  frame_250.jpg
  frame_251.jpg
  frame_252.jpg
  frame_253.jpg
  frame_254.jpg
  frame_255.jpg
  frame_256.jpg
  frame_257.jpg
  frame_258.jpg
  frame_259.jpg
  frame_260.jpg
  frame_261.jpg
  frame_262.jpg
  frame_263.jpg
  frame_264.jpg
  frame_265.jpg
  frame_266.jpg
  frame_267.jpg
  frame_268.jpg
  frame_269.jpg
  frame_270.jpg
  frame_271.jpg
  frame_272.jpg
  frame_273.jpg
  frame_274.jpg
  frame_275.jpg
  frame_276.jpg
  frame_277.jpg
  frame_278.jpg
  frame_279.jpg
  frame_280.jpg
  frame_281.jpg
  frame_282.jpg
  frame_283.jpg
  frame_284.jpg
  frame_285.jpg
  frame_286.jpg
  frame_287.jpg
  frame_288.jpg
  frame_289.jpg
  frame_290.jpg
  frame_291.jpg
  frame_292.jpg
  frame_293.jpg
  frame_294.jpg
  frame_295.jpg
  frame_296.jpg
  frame_297.jpg
  frame_298.jpg
  frame_299.jpg
  frame_300.jpg
  frame_301.jpg
  frame_302.jpg
  frame_303.jpg
  frame_304.jpg
  frame_305.jpg
  frame_306.jpg
  frame_307.jpg
  frame_308.jpg
  frame_309.jpg
  frame_310.jpg
  frame_311.jpg
  frame_312.jpg
  frame_313.jpg
  frame_314.jpg
  frame_315.jpg
  frame_316.jpg
  frame_317.jpg
  frame_318.jpg
  frame_319.jpg
  frame_320.jpg
  frame_321.jpg
  frame_322.jpg
  frame_323.jpg
  frame_324.jpg
  frame_325.jpg
  frame_326.jpg
  frame_327.jpg
  frame_328.jpg
  frame_329.jpg
  frame_330.jpg
  frame_331.jpg
  frame_332.jpg
  frame_333.jpg
  frame_334.jpg
  frame_335.jpg
  frame_336.jpg
  frame_337.jpg
  frame_338.jpg
  frame_339.jpg
  frame_340.jpg
  frame_341.jpg
  frame_342.jpg
  frame_343.jpg
  frame_344.jpg
  frame_345.jpg
  frame_346.jpg
  frame_347.jpg
  frame_348.jpg
  frame_349.jpg
  frame_350.jpg
  frame_351.jpg
  frame_352.jpg
  frame_353.jpg
  frame_354.jpg
  frame_355.jpg
  frame_356.jpg
  frame_357.jpg
  frame_358.jpg
  frame_359.jpg
  frame_360.jpg
  frame_361.jpg
  frame_362.jpg
  frame_363.jpg
  frame_364.jpg
  frame_365.jpg
  frame_366.jpg
  frame_367.jpg
  frame_368.jpg
  frame_369.jpg
  frame_370.jpg
  frame_371.jpg
  frame_372.jpg
  frame_373.jpg
  frame_374.jpg
  frame_375.jpg
  frame_376.jpg
  frame_377.jpg
  frame_378.jpg
  frame_379.jpg
  frame_380.jpg
  frame_381.jpg
  frame_382.jpg
  frame_383.jpg
  frame_384.jpg
  frame_385.jpg
  frame_386.jpg
  frame_387.jpg
  frame_388.jpg
  frame_389.jpg
  frame_390.jpg
  frame_391.jpg
  frame_392.jpg
  frame_393.jpg
  frame_394.jpg
  frame_395.jpg
  frame_396.jpg
  frame_397.jpg
  frame_398.jpg
  frame_399.jpg
  frame_400.jpg
  frame_401.jpg
  frame_402.jpg
  frame_403.jpg
  frame_404.jpg
  frame_405.jpg
  frame_406.jpg
  frame_407.jpg
  frame_408.jpg
  frame_409.jpg
  frame_410.jpg
  frame_411.jpg
  frame_412.jpg
  frame_413.jpg
  frame_414.jpg
  frame_415.jpg
  frame_416.jpg
  frame_417.jpg
  frame_418.jpg
  frame_419.jpg
  frame_420.jpg
  frame_421.jpg
  frame_422.jpg
  frame_423.jpg
  frame_424.jpg
  frame_425.jpg
  frame_426.jpg
  frame_427.jpg
  frame_428.jpg
  frame_429.jpg
  frame_430.jpg
  frame_431.jpg
  frame_432.jpg
  frame_433.jpg
  frame_434.jpg
  frame_435.jpg
  frame_436.jpg
  frame_437.jpg
  frame_438.jpg
  frame_439.jpg
  frame_440.jpg
  frame_441.jpg
  frame_442.jpg
  frame_443.jpg
  frame_444.jpg
  frame_445.jpg
  frame_446.jpg
  frame_447.jpg
  frame_448.jpg
  frame_449.jpg
  frame_450.jpg
  frame_451.jpg
  frame_452.jpg
  frame_453.jpg
  frame_454.jpg
  frame_455.jpg
  frame_456.jpg
  frame_457.jpg
  frame_458.jpg
  frame_459.jpg
  frame_460.jpg
  frame_461.jpg
  frame_462.jpg
  frame_463.jpg
  frame_464.jpg
  frame_465.jpg
  frame_466.jpg
  frame_467.jpg
  frame_468.jpg
  frame_469.jpg
  frame_470.jpg
  frame_471.jpg
  frame_472.jpg
  frame_473.jpg
  frame_474.jpg
  frame_475.jpg
  frame_476.jpg
  frame_477.jpg
  frame_478.jpg
  frame_479.jpg
  frame_480.jpg
  frame_481.jpg
  frame_482.jpg
  frame_483.jpg
  frame_484.jpg
  frame_485.jpg
  frame_486.jpg
  frame_487.jpg
  frame_488.jpg
  frame_489.jpg
  frame_490.jpg
  frame_491.jpg
  frame_492.jpg
  frame_493.jpg
  frame_494.jpg
  frame_495.jpg
  frame_496.jpg
  frame_497.jpg
  frame_498.jpg
  frame_499.jpg
  frame_500.jpg
  frame_501.jpg
  frame_502.jpg
  frame_503.jpg
  frame_504.jpg
  frame_505.jpg
  frame_506.jpg
  frame_507.jpg
  frame_508.jpg
  frame_509.jpg
  frame_510.jpg
  frame_511.jpg
  frame_512.jpg
  frame_513.jpg
  frame_514.jpg
  frame_515.jpg
  frame_516.jpg
  frame_517.jpg
  frame_518.jpg
  frame_519.jpg
  frame_520.jpg
  frame_521.jpg
  frame_522.jpg
  frame_523.jpg
  frame_524.jpg
  frame_525.jpg
  frame_526.jpg
  frame_527.jpg
  frame_528.jpg
  frame_529.jpg
  frame_530.jpg
  frame_531.jpg
  frame_532.jpg
  frame_533.jpg
  frame_534.jpg
  frame_535.jpg
  frame_536.jpg
  frame_537.jpg
  frame_538.jpg
  frame_539.jpg
  frame_540.jpg
  frame_541.jpg
  frame_542.jpg
  frame_543.jpg
  frame_544.jpg
  frame_545.jpg
  frame_546.jpg
  frame_547.jpg
  frame_548.jpg
  frame_549.jpg
  frame_550.jpg
  frame_551.jpg
  frame_552.jpg
  frame_553.jpg
  frame_554.jpg
  frame_555.jpg
  frame_556.jpg
  frame_557.jpg
  frame_558.jpg
  frame_559.jpg
  frame_560.jpg
  frame_561.jpg
  frame_562.jpg
  frame_563.jpg
  frame_564.jpg
  frame_565.jpg
  frame_566.jpg
  frame_567.jpg
  frame_568.jpg
  frame_569.jpg
  frame_570.jpg
  frame_571.jpg
  frame_572.jpg
  frame_573.jpg
  frame_574.jpg
  frame_575.jpg
  frame_576.jpg
  frame_577.jpg
  frame_578.jpg
  frame_579.jpg
  frame_580.jpg
  frame_581.jpg
  frame_582.jpg
  frame_583.jpg
  frame_584.jpg
  frame_585.jpg
  frame_586.jpg
  frame_587.jpg
  frame_588.jpg
  frame_589.jpg
  frame_590.jpg
  frame_591.jpg
  frame_592.jpg
  frame_593.jpg
  frame_594.jpg
  frame_595.jpg
  frame_596.jpg
  frame_597.jpg
  frame_598.jpg
  frame_599.jpg
  frame_600.jpg
  frame_601.jpg
  frame_602.jpg
  frame_603.jpg
  frame_604.jpg
  frame_605.jpg
  frame_606.jpg
  frame_607.jpg
  frame_608.jpg
  frame_609.jpg
  frame_610.jpg
  frame_611.jpg
  frame_612.jpg
  frame_613.jpg
  frame_614.jpg
  frame_615.jpg
  frame_616.jpg
  frame_617.jpg
  frame_618.jpg
  frame_619.jpg
  frame_620.jpg
  frame_621.jpg
  frame_622.jpg
  frame_623.jpg
  frame_624.jpg
  frame_625.jpg
  frame_626.jpg
  frame_627.jpg
  frame_628.jpg
  frame_629.jpg
  frame_630.jpg
  frame_631.jpg
  frame_632.jpg
  frame_633.jpg
  frame_634.jpg
  frame_635.jpg
  frame_636.jpg
  frame_637.jpg
  frame_638.jpg
  frame_639.jpg
  frame_640.jpg
  frame_641.jpg
  frame_642.jpg
  frame_643.jpg
  frame_644.jpg
  frame_645.jpg
  frame_646.jpg
  frame_647.jpg
  frame_648.jpg
  frame_649.jpg
  frame_650.jpg
  frame_651.jpg
  frame_652.jpg
  frame_653.jpg
  frame_654.jpg
  frame_655.jpg
  frame_656.jpg
  frame_657.jpg
  frame_658.jpg
  frame_659.jpg
  frame_660.jpg
  frame_661.jpg
  frame_662.jpg
  frame_663.jpg
  frame_664.jpg
  frame_665.jpg
  frame_666.jpg
  frame_667.jpg
  frame_668.jpg
  frame_669.jpg
  frame_670.jpg
  frame_671.jpg
  frame_672.jpg
  frame_673.jpg
  frame_674.jpg
  frame_675.jpg
  frame_676.jpg
  frame_677.jpg
  frame_678.jpg
  frame_679.jpg
  frame_680.jpg
  frame_681.jpg
  frame_682.jpg
  frame_683.jpg
  frame_684.jpg
  frame_685.jpg
  frame_686.jpg
  frame_687.jpg
  frame_688.jpg
  frame_689.jpg
  frame_690.jpg
  frame_691.jpg
  frame_692.jpg
  frame_693.jpg
  frame_694.jpg
  frame_695.jpg
  frame_696.jpg
  frame_697.jpg
  frame_698.jpg
  frame_699.jpg
  frame_700.jpg
  frame_701.jpg
  frame_702.jpg
  frame_703.jpg
  frame_704.jpg
  frame_705.jpg
  frame_706.jpg
  frame_707.jpg
  frame_708.jpg
  frame_709.jpg
  frame_710.jpg
  frame_711.jpg
  frame_712.jpg
  frame_713.jpg
  frame_714.jpg
  frame_715.jpg
  frame_716.jpg
  frame_717.jpg
  frame_718.jpg
  frame_719.jpg
  frame_720.jpg
  frame_721.jpg
  frame_722.jpg
  frame_723.jpg
  frame_724.jpg
  frame_725.jpg
  frame_726.jpg
  frame_727.jpg
  frame_728.jpg
  frame_729.jpg
  frame_730.jpg
  frame_731.jpg
  frame_732.jpg
  frame_733.jpg
  frame_734.jpg
  frame_735.jpg
  frame_736.jpg
  frame_737.jpg
  frame_738.jpg
  frame_739.jpg
  frame_740.jpg
  frame_741.jpg
  frame_742.jpg
  frame_743.jpg
  frame_744.jpg
  frame_745.jpg
  frame_746.jpg
  frame_747.jpg
  frame_748.jpg
  frame_749.jpg
  frame_750.jpg
  frame_751.jpg
  frame_752.jpg
  frame_753.jpg
  frame_754.jpg
  frame_755.jpg
  frame_756.jpg
  frame_757.jpg
  frame_758.jpg
  frame_759.jpg
  frame_760.jpg
  frame_761.jpg
  frame_762.jpg
  frame_763.jpg
  frame_764.jpg
  frame_765.jpg
  frame_766.jpg
  frame_767.jpg
  frame_768.jpg
  frame_769.jpg
  frame_770.jpg
  frame_771.jpg
  frame_772.jpg
  frame_773.jpg
  frame_774.jpg
  frame_775.jpg
  frame_776.jpg
  frame_777.jpg
  frame_778.jpg
  frame_779.jpg
  frame_780.jpg
  frame_781.jpg
  frame_782.jpg
  frame_783.jpg
  frame_784.jpg
  frame_785.jpg
  frame_786.jpg
  frame_787.jpg
  frame_788.jpg
  frame_789.jpg
  frame_790.jpg
  frame_791.jpg
  frame_792.jpg
  frame_793.jpg
  frame_794.jpg
  frame_795.jpg
  frame_796.jpg
  frame_797.jpg
  frame_798.jpg
  frame_799.jpg
  frame_800.jpg
  frame_801.jpg
  frame_802.jpg
  frame_803.jpg
  frame_804.jpg
  frame_805.jpg
  frame_806.jpg
  frame_807.jpg
  frame_808.jpg
  frame_809.jpg
  frame_810.jpg
  frame_811.jpg
  frame_812.jpg
  frame_813.jpg
  frame_814.jpg
  frame_815.jpg
  frame_816.jpg
  frame_817.jpg
  frame_818.jpg
  frame_819.jpg
  frame_820.jpg
  frame_821.jpg
  frame_822.jpg
  frame_823.jpg
  frame_824.jpg
  frame_825.jpg
  frame_826.jpg
  frame_827.jpg
  frame_828.jpg
  frame_829.jpg
  frame_830.jpg
  frame_831.jpg
  frame_832.jpg
  frame_833.jpg
  frame_834.jpg
  frame_835.jpg
  frame_836.jpg
  frame_837.jpg
  frame_838.jpg
  frame_839.jpg
  frame_840.jpg
  frame_841.jpg
  frame_842.jpg
  frame_843.jpg
  frame_844.jpg
  frame_845.jpg
  frame_846.jpg
  frame_847.jpg
  frame_848.jpg
  frame_849.jpg
  frame_850.jpg
  frame_851.jpg
  frame_852.jpg
  frame_853.jpg
  frame_854.jpg
  frame_855.jpg
  frame_856.jpg
  frame_857.jpg
  frame_858.jpg
  frame_859.jpg
  frame_860.jpg
 `;
  return data.split("\n")[index];
}

const frameCount = 861;

const images = [];
const imageSeq = {
  frame: 40,
};

for (let i = 0; i < frameCount; i++) {
  const img = new Image();
  img.src = files(i);
  images.push(img);
}

images[1].onload = render;

function render() {
  scaleImage(images[imageSeq.frame], context);
}

function scaleImage(img, ctx) {
  var canvas = ctx.canvas;
  var hRatio = canvas.width / img.width;
  var vRatio = canvas.height / img.height;
  var ratio = Math.max(hRatio, vRatio);
  var centerShift_x = (canvas.width - img.width * ratio) / 2;
  var centerShift_y = (canvas.height - img.height * ratio) / 2;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(
    img,
    0,
    0,
    img.width,
    img.height,
    centerShift_x,
    centerShift_y,
    img.width * ratio,
    img.height * ratio
  );
}
gsap.to(imageSeq, {
  frame: frameCount - 1,
  snap: "frame",
  ease: `none`,
  scrollTrigger: {
    scrub:1,
    trigger: `.page2>canvas`,
    start:`top top`,
    end: `1900% top`,
    scroller: `.main`,
    pin:true,
  },
  onUpdate: render,
});
gsap.to('.page2 canvas',{
  scrollTrigger:{
    scrub:1,
    trigger:".page2",
    start:"bottom 0%",
    ease:"none",
    pin:true,
  }
})
// ScrollTrigger.create({
//   trigger:'.page2',
//   pin:true,
//   start:`bottom 100%`
// })

gsap.to('#h1',{
  x:-700,
  scrollTrigger:{
    trigger:'#h1',
    scroller:'.main',
    start:`-30% 0%`,
    end:`20% top`,
    scrub:1,
    ease:'none'
  }
})

gsap.to('#h2',{
  x:600,
  scrollTrigger:{
    trigger:'#h2',
    scroller:'.main',
    start:`-30% 0%`,
    end:`20% top`,
    scrub:1,
    ease:'none'
  }
})
